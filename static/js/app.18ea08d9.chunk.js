(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{238:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return St}));var r=n(239),o=n(8),a=n(90),i=n(318),c=n(30),s="#011936",u="#F4FFFD",l="#011936",d="#F7A1B2",f="#EB1E47",p="#ffffbf",g="rgba(0, 0, 0, 0)",b="#EBEBE4",j=n(55),h=n(12),m=n.n(h),y=n(65),O=n(11),x=n.n(O);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){x()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C=function(e){return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",T(e,!0));case 1:case"end":return t.stop()}}),null,null,null,Promise)},k=function(e){return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",T(e,!1));case 1:case"end":return t.stop()}}),null,null,null,Promise)},P=function(e){return e.token&&e.createdAt+e.expiresIn>Date.now()},S=function(e){return{username:e.username,token:e.access_token,tokenType:e.token_type,refreshToken:e.refresh_token,expiresIn:1e3*e.expires_in,createdAt:1e3*(e.created_at+7200)}},T=function(e,t){var n,r,o,a,i;return m.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return n="http://localhost:3000/"+(t?"oauth/token":"users"),c.next=3,m.a.awrap(fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(v(v({},e),{},{client_id:"aYfbZ6xVhnkqok-mf4x249R0csoA0S9TcfDwRJ2zVwU",grant_type:"password"}))}));case 3:if((r=c.sent).ok){c.next=10;break}return c.next=7,m.a.awrap(r.json());case 7:throw o=c.sent,console.log(o),new Error("Something went wrong, response not ok");case 10:return c.next=12,m.a.awrap(r.json());case 12:return a=c.sent,i=S(v(v({},t?a:a.user),{},{username:e.username})),c.abrupt("return",i);case 15:case"end":return c.stop()}}),null,null,null,Promise)},L=n(7),A=n.n(L),D=n(86),I=Object(j.createAsyncThunk)("auth/login",(function(e){return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.a.awrap(C(e));case 3:return t.abrupt("return",t.sent);case 6:throw t.prev=6,t.t0=t.catch(0),new Error(t.t0);case 9:case"end":return t.stop()}}),null,null,[[0,6]],Promise)})),E=Object(j.createAsyncThunk)("auth/signup",(function(e){var t;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,m.a.awrap(k(e));case 3:return t=n.sent,n.abrupt("return",t);case 7:throw n.prev=7,n.t0=n.catch(0),new Error(n.t0);case 10:case"end":return n.stop()}}),null,null,[[0,7]],Promise)})),z=Object(j.createAsyncThunk)("auth/logout",(function(e){return m.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Nada logout");case 1:case"end":return e.stop()}}),null,null,null,Promise)})),R={username:"",token:"",tokenType:"",refreshToken:"",createdAt:0,expiresIn:0,isLoading:!1},B=Object(j.createSlice)({name:"auth",initialState:R,reducers:{setState:function(e,t){for(var n in Object.keys(e));}},extraReducers:function(e){e.addCase(I.pending,(function(e){e.isLoading=!0})),e.addCase(I.fulfilled,(function(e,t){e.createdAt=t.payload.createdAt,e.expiresIn=t.payload.expiresIn,e.token=t.payload.token,e.refreshToken=t.payload.refreshToken,e.tokenType=t.payload.tokenType,function(e){var t,n,r,o,a,i;m.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:c.prev=0,t=0,n=Object.entries(e);case 2:if(!(t<n.length)){c.next=13;break}return r=n[t],o=A()(r,2),a=o[0],i=o[1],c.next=9,m.a.awrap(D.setItemAsync(a,i.toString()));case 9:c.sent;case 10:t++,c.next=2;break;case 13:c.next=18;break;case 15:return c.prev=15,c.t0=c.catch(0),c.abrupt("return",!1);case 18:return c.abrupt("return",!0);case 19:case"end":return c.stop()}}),null,null,[[0,15]],Promise)}(t.payload),e.isLoading=!1})),e.addCase(I.rejected,(function(e,t){console.log(t),y.default.alert("There was an error",t.error.message,[{text:"Close",style:"cancel"}]),e.isLoading=!1})),e.addCase(E.fulfilled,(function(e,t){e.createdAt=t.payload.createdAt,e.expiresIn=t.payload.expiresIn,e.token=t.payload.token,e.refreshToken=t.payload.refreshToken,e.tokenType=t.payload.tokenType})),e.addCase(E.rejected,(function(e,t){console.log(t),y.default.alert("There was an error",t.error.message,[{text:"Close",style:"cancel"}])})),e.addCase(z.fulfilled,(function(e){e.createdAt=R.createdAt,e.expiresIn=R.expiresIn,e.token=R.token,e.refreshToken=R.refreshToken,e.tokenType=R.tokenType})),e.addCase(z.rejected,(function(e,t){y.default.alert("There was an error",t.error.message,[{text:"Close",style:"cancel"}])}))}}),V=B.actions.setState,W=B.reducer,F=[{points:[[0,0],[990,0]]},{points:[[0,0],[0,100]]},{points:[[0,100],[270,100]]},{points:[[270,100],[270,260]]},{points:[[270,260],[460,260]]},{points:[[460,470],[460,780]]},{points:[[460,100],[460,400]]},{points:[[370,260],[370,520]]},{points:[[370,520],[460,520]]},{points:[[460,360],[490,360]]},{points:[[550,360],[910,360]]},{points:[[970,360],[990,360]]},{points:[[990,0],[990,780]]},{points:[[460,520],[490,520]]},{points:[[550,520],[830,520]]},{points:[[890,360],[890,520]]},{points:[[870,520],[898,520]]},{points:[[650,520],[650,780]]},{points:[[460,780],[998,780]]}],H=[{properties:{id:"Hall 1",name:"Hall 1",isLightOn:!1,empty:!1},geometry:{type:"Polygon",coordinates:[[[0,0],[0,100],[270,0],[270,100]]]}},{properties:{id:"Kitchen",name:"Kitchen",isLightOn:!1,empty:!1},geometry:{type:"Polygon",coordinates:[[[270,0],[270,260],[460,0],[460,260]]]}},{properties:{id:"Living",name:"Living",isLightOn:!1,empty:!1},geometry:{type:"Polygon",coordinates:[[[460,0],[460,360],[990,0],[990,360]]]}},{properties:{id:"Empty 1",name:"Empty 1",isLightOn:!1,empty:!0},geometry:{type:"Polygon",coordinates:[[[370,260],[370,330],[460,260],[460,330]]]}},{properties:{id:"Bath 1",name:"Bath 1",isLightOn:!1,empty:!1},geometry:{type:"Polygon",coordinates:[[[370,330],[370,520],[460,330],[460,520]]]}},{properties:{id:"Hall 2",name:"Hall 2",isLightOn:!1,empty:!1},geometry:{type:"Polygon",coordinates:[[[460,360],[460,520],[560,360],[560,520]]]}},{properties:{id:"Empty 2",name:"Empty 2",isLightOn:!1,empty:!0},geometry:{type:"Polygon",coordinates:[[[560,360],[560,520],[650,360],[650,520]]]}},{properties:{id:"Empty 3",name:"Empty 3",isLightOn:!1,empty:!0},geometry:{type:"Polygon",coordinates:[[[650,360],[650,380],[890,360],[890,380]]]}},{properties:{id:"Bath 2",name:"Bath 2",isLightOn:!1,empty:!1},geometry:{type:"Polygon",coordinates:[[[650,380],[650,520],[890,380],[890,520]]]}},{properties:{id:"Office",name:"Office",isLightOn:!1,empty:!1},geometry:{type:"Polygon",coordinates:[[[460,520],[460,780],[650,520],[650,780]]]}},{properties:{id:"Room",name:"Room",isLightOn:!1,empty:!1},geometry:{type:"Polygon",coordinates:[[[890,360],[890,520],[990,360],[990,520]],[[650,520],[650,780],[990,520],[990,780]]]}}],_=(Object(j.createAsyncThunk)("home/fetchData",(function(){return H})),Object(j.createSlice)({name:"home",initialState:{rooms:[]},reducers:{setState:function(e,t){e.rooms=H},toggleLight:function(e,t){var n=e.rooms.findIndex((function(e){return e.properties.id===t.payload.roomId}));e.rooms[n].properties.isLightOn=!e.rooms[n].properties.isLightOn}},extraReducers:function(e){}})),N=_.actions,M=(N.setState,N.toggleLight),J=_.reducer,Y=["auto","heat","cool","dry","fan"],X=["low","medium","high","auto"],K=function(e){var t,n;switch(e){case"cool":t=19,n=30;break;case"heat":t=17,n=28;break;case"auto":t=17,n=30;break;case"fan":default:return null}return{min:t,max:n}},U=Object(j.createAsyncThunk)("home/raiseTemperature",(function(){return console.log("raiseTemperature")})),q=Object(j.createAsyncThunk)("home/lowerTemperature",(function(){return console.log("lowerTemperature")})),Z=Object(j.createAsyncThunk)("home/turnOn",(function(){return console.log("turnOn")})),G=Object(j.createAsyncThunk)("home/turnOff",(function(){return console.log("turnOff")})),Q=Object(j.createAsyncThunk)("home/changeFanSpeed",(function(){return console.log("changeFanSpeed")})),$=Object(j.createAsyncThunk)("home/changeMode",(function(){return console.log("changeMode")})),ee=Object(j.createSlice)({name:"ac",initialState:{isLoading:!0,settings:{power:!1,mode:"cool",temperature:{cool:21,dry:21,heat:28,auto:22,fan:0},fanSpeed:"low"}},reducers:{setState:function(e,t){}},extraReducers:function(e){e.addCase(Z.pending,(function(e){e.isLoading=!0})),e.addCase(Z.fulfilled,(function(e,t){e.settings.power=!0,e.isLoading=!1})),e.addCase(Z.rejected,(function(e,t){console.log(t),y.default.alert("There was an error",t.error.message,[{text:"Close",style:"cancel"}]),e.isLoading=!1})),e.addCase(G.pending,(function(e){e.isLoading=!0})),e.addCase(G.fulfilled,(function(e,t){e.settings.power=!1,e.isLoading=!1})),e.addCase(G.rejected,(function(e,t){console.log(t),y.default.alert("There was an error",t.error.message,[{text:"Close",style:"cancel"}]),e.isLoading=!1})),e.addCase(U.pending,(function(e){e.isLoading=!0})),e.addCase(U.fulfilled,(function(e){var t,n=null==(t=K(e.settings.mode))?void 0:t.max,r=e.settings.temperature[e.settings.mode];n&&r&&r<n&&(e.settings.temperature[e.settings.mode]+=1),e.isLoading=!1})),e.addCase(U.rejected,(function(e,t){console.log(t),y.default.alert("There was an error",t.error.message,[{text:"Close",style:"cancel"}]),e.isLoading=!1})),e.addCase(q.pending,(function(e){e.isLoading=!0})),e.addCase(q.fulfilled,(function(e){var t,n=null==(t=K(e.settings.mode))?void 0:t.min,r=e.settings.temperature[e.settings.mode];n&&r&&r>n&&(e.settings.temperature[e.settings.mode]-=1),e.isLoading=!1})),e.addCase(q.rejected,(function(e,t){console.log(t),y.default.alert("There was an error",t.error.message,[{text:"Close",style:"cancel"}]),e.isLoading=!1})),e.addCase(Q.pending,(function(e){e.isLoading=!0})),e.addCase(Q.fulfilled,(function(e){var t=X.findIndex((function(t){return t===e.settings.fanSpeed}));e.settings.fanSpeed=X[(t+1)%X.length],e.isLoading=!1})),e.addCase(Q.rejected,(function(e,t){console.log(t),y.default.alert("There was an error",t.error.message,[{text:"Close",style:"cancel"}]),e.isLoading=!1})),e.addCase($.pending,(function(e){e.isLoading=!0})),e.addCase($.fulfilled,(function(e){var t=Y.findIndex((function(t){return t===e.settings.mode}));e.settings.mode=Y[(t+1)%Y.length],e.isLoading=!1})),e.addCase($.rejected,(function(e,t){console.log(t),y.default.alert("There was an error",t.error.message,[{text:"Close",style:"cancel"}]),e.isLoading=!1}))}}),te=(ee.actions.setState,ee.reducer),ne=Object(j.configureStore)({reducer:{auth:W,home:J,ac:te}}),re=n(184),oe=n.n(re),ae=n(317),ie=n(316),ce=n(0),se=n(9),ue=n(53),le=n(197),de=n(70),fe=n(50),pe=n(1);function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){x()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var je=function(e){var t=e.onPress,n=e.isLoading,r=(e.disabled,e.children),o=e.margin,a=be(be({},he.button),{},{margin:o});return Object(pe.jsx)(de.default,{style:function(e){var t=e.pressed;return[a,t&&he.pressed]},onPress:t,disabled:!!n,children:Object(pe.jsx)(se.default,{children:n?Object(pe.jsx)(le.default,{size:"small",color:l}):Object(pe.jsx)(fe.default,{style:he.buttonText,children:r})})})},he=o.default.create({button:{borderRadius:6,paddingVertical:8,paddingHorizontal:12,backgroundColor:s,elevation:2,shadowColor:"black",shadowOffset:{width:1,height:1},shadowOpacity:.25,shadowRadius:4},pressed:{opacity:.7},buttonText:{textAlign:"center",color:u,fontSize:16,fontWeight:"500"}});n(198);o.default.create({inputContainer:{marginVertical:8,borderBottomColor:s,borderBottomWidth:1},label:{color:s,marginBottom:4},labelInvalid:{color:f},input:{paddingVertical:8,paddingHorizontal:6,backgroundColor:u,borderRadius:4,fontSize:16},inputInvalid:{backgroundColor:d}});o.default.create({form:{},buttons:{marginTop:12}}),o.default.create({authContent:{marginTop:64,marginHorizontal:32,padding:16,borderRadius:8,backgroundColor:u,elevation:2,shadowColor:"black",shadowOffset:{width:1,height:1},shadowOpacity:.35,shadowRadius:4},buttons:{marginTop:8}});var me=n(200),ye=function(e){var t=e.onPress,n=e.isLoading,r=e.disabled;e.children;return Object(pe.jsx)(de.default,{style:function(e){var t=e.pressed;return[Oe.button,t&&Oe.pressed]},onPress:t,disabled:n||r,children:Object(pe.jsx)(me.default,{name:"user",size:24,color:l})})},Oe=o.default.create({button:{borderRadius:12,borderColor:l,borderWidth:1,elevation:2,shadowColor:"black",shadowOffset:{width:1,height:1},shadowOpacity:.25,shadowRadius:4},pressed:{opacity:.7},buttonText:{textAlign:"center",color:l,fontSize:16,fontWeight:"bold"}}),xe=n(54),we=function(e,t,n){return o.default.create({component:{position:"absolute",top:e[0][0]-2,start:e[0][1]-2,width:t,height:n,backgroundColor:l}})},ve=function(e){var t=e.points,n=t[0][0]===t[1][0]&&t[0][1]!==t[1][1],r=n?t[1][1]-t[0][1]+2:4,o=n?4:t[1][0]-t[0][0]+2,a=we(t,r,o);return Object(pe.jsx)(se.default,{style:a.component})};function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){x()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pe=function(e){var t=0,n=0;return e.forEach((function(e){return e.geometry.coordinates.forEach((function(e){return e.forEach((function(e){t<e[0]&&(t=e[0]),n<e[1]&&(n=e[1])}))}))})),{maxX:t,maxY:n}},Se=function(e,t){return function(e,t){var n=Pe(t),r=n.maxX,o=n.maxY;return t.map((function(t){var n=t.geometry.coordinates.map((function(t){return t.map((function(t,n){return[(t[0]-r/2)/e+1*n,(t[1]-o/2)/e+1*n]}))}));return ke(ke({},t),{},{geometry:{type:t.geometry.type,coordinates:n}})}))}(2.1,e)},Te=function(e,t,n){return function(e,t,n){var r=Pe(n),o=r.maxX,a=r.maxY;return t.map((function(t,n){return{points:t.points.map((function(t){return[(t[0]-o/2)/e+0*n,(t[1]-a/2)/e+0*n]}))}}))}(n,e,t)},Le=(o.default.create({component:{}}),function(e){return Object(pe.jsx)(pe.Fragment,{children:Te(F,H,2.1).map((function(e){return Object(pe.jsx)(ve,{points:e.points},""+e.points[0][0]+e.points[0][1]+e.points[1][0]+e.points[1][1])}))})});function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(n),!0).forEach((function(t){x()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ie=function(e){var t=Math.abs(e[0][0]-e[2][0]),n=Math.abs(e[0][1]-e[1][1]);return o.default.create({polygon:{width:n,height:t}}).polygon},Ee=o.default.create({component:{justifyContent:"center",alignItems:"center"},label:{color:l,fontSize:8}}),ze=function(e){var t,n=Object(c.useDispatch)(),r=e.coordinates,a=e.properties,i=Object(c.useSelector)((function(e){var t;return!(null==(t=e.home.rooms.find((function(e){return e.properties.id===a.id})))||!t.properties.isLightOn)})),u=i?p:void 0;return u=a.empty?l:u,Object(pe.jsx)(de.default,{onPress:function(){a.empty||n(M({roomId:a.id}))},style:(t=r,o.default.create({polygon:{position:"absolute",top:t[0][0],start:t[0][1]}}).polygon),children:Object(pe.jsx)(se.default,{style:De(De(De({},Ie(r)),Ee.component),{},{backgroundColor:u}),children:Object(pe.jsx)(fe.default,{style:De(De({},Ee.label),{},{color:i?s:l}),children:a.name})})})},Re=(o.default.create({component:{}}),function(e){return Object(pe.jsx)(pe.Fragment,{children:Se(H).map((function(e){return e.geometry.coordinates.map((function(t,n){return Object(pe.jsx)(ze,{coordinates:t,properties:e.properties},e.properties.name+n)}))}))})}),Be=o.default.create({component:{flex:1,justifyContent:"center",alignItems:"center"},imageContainer:{position:"absolute",end:"10%",top:"10%",height:150,width:150},image:{height:150,width:150}}),Ve=function(e){var t=Object(ue.useNavigation)().navigate;return Object(pe.jsxs)(se.default,{style:Be.component,children:[Object(pe.jsx)(de.default,{onPress:function(){return t("AcRemote")},style:Be.imageContainer,children:Object(pe.jsx)(xe.default,{source:n(285),style:Be.image})}),Object(pe.jsxs)(se.default,{children:[Object(pe.jsx)(Re,{}),Object(pe.jsx)(Le,{})]})]})},We=o.default.create({rootContainer:{flex:1},title:{fontSize:20,fontWeight:"bold",marginBottom:8},imageContainer:{height:50,width:50,backgroundColor:"pink"},image:{height:50,width:50}}),Fe=function(e){var t=e.navigation;return Object(ce.useLayoutEffect)((function(){t.setOptions({headerRight:function(){return Object(pe.jsx)(ye,{onPress:function(){return t.navigate("Profile")}})}})}),[t]),Object(pe.jsx)(se.default,{style:We.rootContainer,children:Object(pe.jsx)(Ve,{})})},He=o.default.create({screen:{flex:1,justifyContent:"center",alignItems:"center"}}),_e=function(e){e.navigation;var t=Object(c.useDispatch)();return Object(pe.jsx)(se.default,{style:He.screen,children:Object(pe.jsx)(je,{onPress:function(){return t(z())},children:"Logout"})})},Ne=n(155),Me=n(178),Je=o.default.create({component:{flex:1,width:112,maxWidth:112,height:64,maxHeight:64,backgroundColor:u,borderWidth:1,borderRadius:8,padding:8,justifyContent:"center",alignItems:"center",shadowRadius:8,shadowOpacity:.4,shadowOffset:{height:4,width:0},elevation:1,outlineWidth:0},text:{color:l}}),Ye=function(e){var t=e.children,n=e.onPress,r=e.onLongPress,o=e.dispatchAction,a=e.empty,i=e.entering,s=e.exiting,d=Object(c.useDispatch)();return Object(pe.jsx)(Ne.default.View,{entering:i||Me.SlideInLeft,exiting:s||Me.SlideOutLeft,style:[Je.component,{borderColor:a?g:l,backgroundColor:a?g:u}],children:Object(pe.jsx)(de.default,{onPress:function(){a||(n&&n(),o&&d(o()))},onLongPress:r,style:{borderWidth:0},children:!a&&t})})},Xe=n(319),Ke=function(e){var t=Object(c.useSelector)((function(e){return e.ac.settings.power}));return Object(pe.jsx)(Ye,{dispatchAction:Q,empty:!t,entering:Me.SlideInRight,exiting:Me.SlideOutRight,children:Object(pe.jsx)(Xe.default,{name:"fan",size:48,color:l})})},Ue=n(313),qe=n(314),Ze=o.default.create({text:{color:l,fontWeight:"bold"},mainContainer:{flexDirection:"column",flex:1,width:"100%",justifyContent:"space-around"},topContainer:{flexDirection:"row",justifyContent:"center",alignItems:"center"},bottomContainer:{flexDirection:"row",justifyContent:"center",alignItems:"center"},icon:{marginHorizontal:2}}),Ge=function(e){var t=Object(c.useSelector)((function(e){return e.ac.settings.power}));return Object(pe.jsx)(Ye,{onPress:function(){return console.log("ModeButton")},dispatchAction:$,empty:!t,children:Object(pe.jsxs)(se.default,{style:Ze.mainContainer,children:[Object(pe.jsxs)(se.default,{style:Ze.topContainer,children:[Object(pe.jsx)(Xe.default,{name:"snowflake",size:18,color:l,style:Ze.icon}),Object(pe.jsx)(Ue.default,{name:"water",size:18,color:l,style:Ze.icon}),Object(pe.jsx)(Xe.default,{name:"fan",size:18,color:l,style:Ze.icon})]}),Object(pe.jsxs)(se.default,{style:Ze.bottomContainer,children:[Object(pe.jsx)(Xe.default,{name:"sun",size:18,color:l,style:Ze.icon}),Object(pe.jsx)(qe.default,{name:"brightness-auto",size:18,color:l,style:Ze.icon})]})]})})},Qe=o.default.create({image:{height:48,width:48}}),$e=function(e){var t=Object(c.useSelector)((function(e){return e.ac.settings.power}));return Object(pe.jsx)(Ye,{onPress:function(){return console.log("PowerButton")},dispatchAction:t?G:Z,children:t?Object(pe.jsx)(xe.default,{source:n(293),style:Qe.image}):Object(pe.jsx)(xe.default,{source:n(294),style:Qe.image})})};function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach((function(t){x()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nt=o.default.create({arrow:{width:0,height:0,borderStartWidth:16,borderStartColor:"rgba(0, 0, 0, 0)",borderEndWidth:16,borderEndColor:"rgba(0, 0, 0, 0)",borderBottomWidth:16,borderBottomColor:l},up:{transform:[{rotate:"0deg"}]},right:{transform:[{rotate:"90deg"}]},down:{transform:[{rotate:"180deg"}]},left:{transform:[{rotate:"270deg"}]}}),rt=function(e){var t=e.direction;return Object(pe.jsx)(se.default,{style:tt(tt({},nt.arrow),nt[t])})},ot=o.default.create({imageContainer:{flex:1,justifyContent:"center",alignItems:"center",flexDirection:"row",paddingLeft:12},image:{height:48,width:48,marginLeft:8}}),at=function(e){var t=Object(c.useSelector)((function(e){return e.ac.settings.power}));return Object(pe.jsx)(Ye,{onPress:function(){return console.log("TempDownButton")},dispatchAction:q,empty:!t,children:Object(pe.jsxs)(se.default,{style:ot.imageContainer,children:[Object(pe.jsx)(rt,{direction:"down"}),Object(pe.jsx)(xe.default,{source:n(295),style:ot.image})]})})},it=o.default.create({imageContainer:{flex:1,justifyContent:"center",alignItems:"center",flexDirection:"row",paddingLeft:12},image:{height:48,width:48,marginLeft:8}}),ct=function(e){var t=Object(c.useSelector)((function(e){return e.ac.settings.power}));return Object(pe.jsx)(Ye,{onPress:function(){return console.log("TempUpButton")},dispatchAction:U,empty:!t,children:Object(pe.jsxs)(se.default,{style:it.imageContainer,children:[Object(pe.jsx)(rt,{direction:"up"}),Object(pe.jsx)(xe.default,{source:n(296),style:it.image})]})})},st=o.default.create({buttons:{flexDirection:"row",width:"100%",height:"55%",paddingVertical:32},powerButtonContainer:{flexDirection:"row-reverse",width:"100%",height:"55%"},buttonsColumn:{flexDirection:"column",flex:1,alignItems:"center",justifyContent:"space-between"}}),ut=function(e){var t=Object(c.useSelector)((function(e){return e.ac.settings.power}));return Object(pe.jsx)(pe.Fragment,{children:Object(pe.jsx)(se.default,{style:st.buttons,children:t?Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsxs)(se.default,{style:st.buttonsColumn,children:[Object(pe.jsx)(ct,{}),Object(pe.jsx)(at,{}),Object(pe.jsx)(Ge,{})]}),Object(pe.jsxs)(se.default,{style:st.buttonsColumn,children:[Object(pe.jsx)($e,{}),Object(pe.jsx)(Ke,{}),Object(pe.jsx)(Ye,{empty:!0})]})]}):Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsx)(se.default,{style:st.buttonsColumn}),Object(pe.jsx)(se.default,{style:st.buttonsColumn,children:Object(pe.jsx)($e,{})})]})})})},lt=o.default.create({component:{flexDirection:"row",justifyContent:"flex-start"},generalText:{fontWeight:"bold"},temperatureText:{fontSize:128},units:{fontSize:32,fontWeight:"bold"}}),dt=function(e){var t=Object(c.useSelector)((function(e){return e.ac.settings.temperature[e.ac.settings.mode]})),n=Object(c.useSelector)((function(e){return e.ac.settings.mode})),r=Object(ce.useState)({}),o=A()(r,2),a=o[0],i=o[1];return Object(ce.useEffect)((function(){i(["fan"===n?{color:b}:{color:l}])}),[n]),Object(pe.jsxs)(se.default,{style:lt.component,children:[Object(pe.jsx)(fe.default,{style:[lt.generalText,lt.temperatureText,a],children:"fan"===n?"N/A":t}),Object(pe.jsx)(fe.default,{style:[lt.generalText,lt.units,a],children:"fan"!==n&&"\xb0C"})]})},ft=n(45),pt=n(89),gt=n(315),bt=o.default.create({component:{flexDirection:"row",height:"100%",alignItems:"flex-end"},text:{color:l},icon:{margin:5}}),jt=function(e){var t=Object(c.useSelector)((function(e){return e.ac.settings.fanSpeed})),n=Object(ce.useRef)(new ft.default.Value(0)).current,r=n.interpolate({inputRange:[0,1],outputRange:["0deg","360deg"]});return Object(ce.useEffect)((function(){if(n.stopAnimation(),n.setValue(0),"auto"!==t){var e=ft.default.loop(ft.default.timing(n,{toValue:1,duration:2e3,easing:pt.default.linear,useNativeDriver:!0}));return e.start(),function(){return e.stop()}}}),[t]),"auto"===t?Object(pe.jsx)(se.default,{style:bt.component,children:Object(pe.jsx)(gt.default,{name:"fan-auto",size:32,color:l,style:bt.icon})}):Object(pe.jsxs)(se.default,{style:bt.component,children:[Object(pe.jsx)(ft.default.View,{style:{transform:[{rotate:r}]},children:Object(pe.jsx)(Xe.default,{name:"fan",size:16,color:l,style:bt.icon})}),("medium"===t||"high"===t)&&Object(pe.jsx)(ft.default.View,{style:{transform:[{rotate:r}]},children:Object(pe.jsx)(Xe.default,{name:"fan",size:24,color:l,style:bt.icon})}),"high"===t&&Object(pe.jsx)(ft.default.View,{style:{transform:[{rotate:r}]},children:Object(pe.jsx)(Xe.default,{name:"fan",size:32,color:l,style:bt.icon})})]})},ht=o.default.create({component:{flexDirection:"column",justifyContent:"space-between",alignItems:"center"}}),mt=function(e){var t=Object(c.useSelector)((function(e){return e.ac.settings.mode}));return Object(pe.jsxs)(se.default,{style:ht.component,children:["cool"===t&&Object(pe.jsx)(Xe.default,{name:"snowflake",size:32,color:l}),"dry"===t&&Object(pe.jsx)(Ue.default,{name:"water",size:32,color:l}),"fan"===t&&Object(pe.jsx)(Xe.default,{name:"fan",size:32,color:l}),"heat"===t&&Object(pe.jsx)(Xe.default,{name:"sun",size:32,color:l}),"auto"===t&&Object(pe.jsx)(qe.default,{name:"brightness-auto",size:32,color:l})]})},yt=o.default.create({component:{flex:1,width:"100%",padding:32,justifyContent:"center",alignItems:"center",backgroundColor:u,borderRadius:8,shadowColor:"black",shadowRadius:8,shadowOpacity:.4,shadowOffset:{height:4,width:0},elevation:1},bottomBar:{width:"100%",height:42,marginTop:32,justifyContent:"space-between",flexDirection:"row"},text:{fontSize:32,color:l}}),Ot=function(e){var t=Object(c.useSelector)((function(e){return e.ac.settings}));return Object(pe.jsx)(se.default,{style:yt.component,children:t.power?Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsx)(dt,{}),Object(pe.jsxs)(se.default,{style:yt.bottomBar,children:[Object(pe.jsx)(jt,{}),Object(pe.jsx)(mt,{})]})]}):Object(pe.jsx)(fe.default,{style:yt.text,children:"Turn me on, baby!"})})},xt=o.default.create({component:{flex:1,marginHorizontal:"6%",marginVertical:"12%",justifyContent:"center",alignItems:"center"},display:{flexDirection:"row",width:"100%",height:"35%",borderWidth:1,borderColor:"white"}}),wt=function(e){Object(c.useDispatch)();return Object(pe.jsxs)(se.default,{style:xt.component,children:[Object(pe.jsx)(Ot,{}),Object(pe.jsx)(ut,{})]})},vt=(o.default.create({component:{}}),function(e){return Object(pe.jsx)(wt,{})}),Ct=Object(ie.default)(),kt=function(){return Object(pe.jsxs)(Ct.Navigator,{screenOptions:{headerStyle:{backgroundColor:s},headerShadowVisible:!1,headerTintColor:l,contentStyle:{backgroundColor:s}},children:[Object(pe.jsx)(Ct.Screen,{name:"AcRemote",component:vt}),Object(pe.jsx)(Ct.Screen,{name:"Home",component:Fe}),Object(pe.jsx)(Ct.Screen,{name:"Profile",component:_e})]})},Pt=function(){Object(c.useDispatch)(),function(){var e=oe()((function*(){var e=yield m.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.awrap(D.getItemAsync("username"));case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0="";case 5:return e.t1=e.t0,e.next=8,m.a.awrap(D.getItemAsync("token"));case 8:if(e.t2=e.sent,e.t2){e.next=11;break}e.t2="";case 11:return e.t3=e.t2,e.next=14,m.a.awrap(D.getItemAsync("tokenType"));case 14:if(e.t4=e.sent,e.t4){e.next=17;break}e.t4="";case 17:return e.t5=e.t4,e.next=20,m.a.awrap(D.getItemAsync("refreshToken"));case 20:if(e.t6=e.sent,e.t6){e.next=23;break}e.t6="";case 23:return e.t7=e.t6,e.t8=parseInt,e.next=27,m.a.awrap(D.getItemAsync("createdAt"));case 27:if(e.t9=e.sent,e.t9){e.next=30;break}e.t9="";case 30:return e.t10=e.t9,e.t11=(0,e.t8)(e.t10),e.t12=parseInt,e.next=35,m.a.awrap(D.getItemAsync("expiresIn"));case 35:if(e.t13=e.sent,e.t13){e.next=38;break}e.t13="";case 38:return e.t14=e.t13,e.t15=(0,e.t12)(e.t14),e.next=42,m.a.awrap(D.getItemAsync("isLoading"));case 42:if(e.t16=e.sent,e.t16){e.next=45;break}e.t16="";case 45:return e.t17=!!e.t16,e.abrupt("return",{username:e.t1,token:e.t3,tokenType:e.t5,refreshToken:e.t7,createdAt:e.t11,expiresIn:e.t15,isLoading:e.t17});case 47:case"end":return e.stop()}}),null,null,null,Promise);e.token&&(P(e)?V(e):console.log("Calling refresh function because token is expired"))}))}(),Object(c.useSelector)((function(e){return P(e.auth)}));return Object(pe.jsx)(ae.default,{children:Object(pe.jsx)(kt,{})})};function St(){return Object(pe.jsx)(a.SafeAreaProvider,{children:Object(pe.jsxs)(i.SafeAreaView,{style:Tt.container,children:[Object(pe.jsx)(r.StatusBar,{style:"light"}),Object(pe.jsx)(c.Provider,{store:ne,children:Object(pe.jsx)(Pt,{})})]})})}var Tt=o.default.create({container:{flex:1,backgroundColor:s,color:l}})},247:function(e,t,n){e.exports=n(301)},285:function(e,t,n){e.exports=n.p+"static/media/air-conditioner-colored.f53f3bbe.png"},293:function(e,t,n){e.exports=n.p+"static/media/off.a5b38215.png"},294:function(e,t,n){e.exports=n.p+"static/media/on.c7cf9c21.png"},295:function(e,t,n){e.exports=n.p+"static/media/cold.28e49a1b.png"},296:function(e,t,n){e.exports=n.p+"static/media/hot.a3bc03ae.png"}},[[247,1,2]]]);
//# sourceMappingURL=app.18ea08d9.chunk.js.map