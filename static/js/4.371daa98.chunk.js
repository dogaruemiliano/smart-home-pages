(this.webpackJsonp=this.webpackJsonp||[]).push([[4],{254:function(e,t,n){e.exports=n.p+"static/media/air-conditioner-colored.f53f3bbe.png"},279:function(e,t,n){e.exports=n.p+"static/media/off.a5b38215.png"},280:function(e,t,n){e.exports=n.p+"static/media/on.c7cf9c21.png"},281:function(e,t,n){e.exports=n.p+"static/media/cold.28e49a1b.png"},282:function(e,t,n){e.exports=n.p+"static/media/hot.a3bc03ae.png"},324:function(e,t,n){"use strict";n.r(t);var r=n(237),o=n.n(r),c=n(323),i=n(316),a=n(54),s=n(41),l=(n(1),n(0)),u=n(22),d=n.n(u),f=(n(14),n(8)),j=n(21),b=n(227),p=n(11),h=n.n(p),O=n(238),g=n(171),m=n(159),x=n(20);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=function(e){var t=e.onPress,n=e.isLoading,r=(e.disabled,e.children),o=e.margin,c=C(C({},v.button),{},{margin:o});return Object(x.jsx)(g.default,{style:function(e){var t=e.pressed;return[c,t&&v.pressed]},onPress:t,disabled:!!n,children:Object(x.jsx)(j.default,{children:n?Object(x.jsx)(O.default,{size:"small",color:s.Colors.neutral}):Object(x.jsx)(m.default,{style:v.buttonText,children:r})})})},v=f.default.create({button:{borderRadius:6,paddingVertical:8,paddingHorizontal:12,backgroundColor:s.Colors.primary,elevation:2,shadowColor:"black",shadowOffset:{width:1,height:1},shadowOpacity:.25,shadowRadius:4},pressed:{opacity:.7},buttonText:{textAlign:"center",color:s.Colors.secondary,fontSize:16,fontWeight:"500"}});n(239);f.default.create({inputContainer:{marginVertical:8,borderBottomColor:s.Colors.primary,borderBottomWidth:1},label:{color:s.Colors.primary,marginBottom:4},labelInvalid:{color:s.Colors.error500},input:{paddingVertical:8,paddingHorizontal:6,backgroundColor:s.Colors.secondary,borderRadius:4,fontSize:16},inputInvalid:{backgroundColor:s.Colors.error100}});f.default.create({form:{},buttons:{marginTop:12}}),f.default.create({authContent:{marginTop:64,marginHorizontal:32,padding:16,borderRadius:8,backgroundColor:s.Colors.secondary,elevation:2,shadowColor:"black",shadowOffset:{width:1,height:1},shadowOpacity:.35,shadowRadius:4},buttons:{marginTop:8}});var P=n(58),S=n(248),D=function(e){var t=e.onPress,n=e.isLoading,r=e.disabled;e.children;return Object(x.jsx)(g.default,{style:function(e){var t=e.pressed;return[z.button,t&&z.pressed]},onPress:t,disabled:n||r,children:Object(x.jsx)(S.default,{name:"user",size:24,color:s.Colors.neutral})})},z=f.default.create({button:{borderRadius:12,borderColor:s.Colors.neutral,borderWidth:1,elevation:2,shadowColor:"black",shadowOffset:{width:1,height:1},shadowOpacity:.25,shadowRadius:4},pressed:{opacity:.7},buttonText:{textAlign:"center",color:s.Colors.neutral,fontSize:16,fontWeight:"bold"}}),k=n(164),R=n(45),I=function(e,t,n){return f.default.create({component:{position:"absolute",top:e[0][0]-2,start:e[0][1]-2,width:t,height:n,backgroundColor:s.Colors.neutral}})},T=function(e){var t=e.points,n=t[0][0]===t[1][0]&&t[0][1]!==t[1][1],r=n?t[1][1]-t[0][1]+2:4,o=n?4:t[1][0]-t[0][0]+2,c=I(t,r,o);return Object(x.jsx)(j.default,{style:c.component})};function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var W=function(e){var t=0,n=0;return e.forEach((function(e){return e.geometry.coordinates.forEach((function(e){return e.forEach((function(e){t<e[0]&&(t=e[0]),n<e[1]&&(n=e[1])}))}))})),{maxX:t,maxY:n}},L=function(e,t){return function(e,t){var n=W(t),r=n.maxX,o=n.maxY;return t.map((function(t){var n=t.geometry.coordinates.map((function(t){return t.map((function(t,n){return[(t[0]-r/2)/e+1*n,(t[1]-o/2)/e+1*n]}))}));return E(E({},t),{},{geometry:{type:t.geometry.type,coordinates:n}})}))}(2.1,e)},B=function(e,t,n){return function(e,t,n){var r=W(n),o=r.maxX,c=r.maxY;return t.map((function(t,n){return{points:t.points.map((function(t){return[(t[0]-o/2)/e+0*n,(t[1]-c/2)/e+0*n]}))}}))}(n,e,t)},V=(f.default.create({component:{}}),function(e){return Object(x.jsx)(x.Fragment,{children:B(R.buildingData,R.roomsData,2.1).map((function(e){return Object(x.jsx)(T,{points:e.points},""+e.points[0][0]+e.points[0][1]+e.points[1][0]+e.points[1][1])}))})}),F=n(71);function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N=function(e){var t=Math.abs(e[0][0]-e[2][0]),n=Math.abs(e[0][1]-e[1][1]);return f.default.create({polygon:{width:n,height:t}}).polygon},X=f.default.create({component:{justifyContent:"center",alignItems:"center"},label:{color:s.Colors.neutral,fontSize:8}}),Y=function(e){var t,n=Object(a.useDispatch)(),r=e.coordinates,o=e.properties,c=Object(a.useSelector)((function(e){var t;return!(null==(t=e.home.rooms.find((function(e){return e.properties.id===o.id})))||!t.properties.isLightOn)})),i=c?s.Colors.light:void 0;return i=o.empty?s.Colors.neutral:i,Object(x.jsx)(g.default,{onPress:function(){o.empty||n(Object(F.toggleLight)({roomId:o.id}))},style:(t=r,f.default.create({polygon:{position:"absolute",top:t[0][0],start:t[0][1]}}).polygon),children:Object(x.jsx)(j.default,{style:M(M(M({},N(r)),X.component),{},{backgroundColor:i}),children:Object(x.jsx)(m.default,{style:M(M({},X.label),{},{color:c?s.Colors.primary:s.Colors.neutral}),children:o.name})})})},J=(f.default.create({component:{}}),function(e){return Object(x.jsx)(x.Fragment,{children:L(R.roomsData).map((function(e){return e.geometry.coordinates.map((function(t,n){return Object(x.jsx)(Y,{coordinates:t,properties:e.properties},e.properties.name+n)}))}))})}),U=f.default.create({component:{flex:1,justifyContent:"center",alignItems:"center"},imageContainer:{position:"absolute",end:"10%",top:"10%",height:150,width:150},image:{height:150,width:150}}),q=function(e){var t=Object(b.useNavigation)().navigate;return Object(x.jsxs)(j.default,{style:U.component,children:[Object(x.jsx)(g.default,{onPress:function(){return t("AcRemote")},style:U.imageContainer,children:Object(x.jsx)(k.default,{source:n(254),style:U.image})}),Object(x.jsxs)(j.default,{children:[Object(x.jsx)(J,{}),Object(x.jsx)(V,{})]})]})},G=f.default.create({rootContainer:{flex:1},title:{fontSize:20,fontWeight:"bold",marginBottom:8},imageContainer:{height:50,width:50,backgroundColor:"pink"},image:{height:50,width:50}}),K=function(e){var t=e.navigation;return Object(l.useLayoutEffect)((function(){t.setOptions({headerRight:function(){return Object(x.jsx)(D,{onPress:function(){return t.navigate("Profile")}})}})}),[t]),Object(x.jsx)(j.default,{style:G.rootContainer,children:Object(x.jsx)(q,{})})},Q=f.default.create({screen:{flex:1,justifyContent:"center",alignItems:"center"}}),Z=function(e){e.navigation;var t=Object(a.useDispatch)();return Object(x.jsx)(j.default,{style:Q.screen,children:Object(x.jsx)(w,{onPress:function(){return t(Object(P.logout)())},children:"Logout"})})},$=n(57),_=n(228),ee=n(219),te=f.default.create({component:{flex:1,width:112,maxWidth:112,height:64,maxHeight:64,backgroundColor:s.Colors.secondary,borderWidth:1,borderRadius:8,padding:8,justifyContent:"center",alignItems:"center",shadowRadius:8,shadowOpacity:.4,shadowOffset:{height:4,width:0},elevation:1,outlineWidth:0},text:{color:s.Colors.neutral}}),ne=function(e){var t=e.children,n=e.onPress,r=e.onLongPress,o=e.dispatchAction,c=e.empty,i=e.entering,l=e.exiting,u=Object(a.useDispatch)();return Object(x.jsx)(_.default.View,{entering:i||ee.SlideInLeft,exiting:l||ee.SlideOutLeft,style:[te.component,{borderColor:c?s.Colors.transparent:s.Colors.neutral,backgroundColor:c?s.Colors.transparent:s.Colors.secondary}],children:Object(x.jsx)(g.default,{onPress:function(){c||(n&&n(),o&&u(o()))},onLongPress:r,style:{borderWidth:0},children:!c&&t})})},re=n(327),oe=function(e){var t=Object(a.useSelector)((function(e){return e.ac.settings.power}));return Object(x.jsx)(ne,{dispatchAction:$.changeFanSpeed,empty:!t,entering:ee.SlideInRight,exiting:ee.SlideOutRight,children:Object(x.jsx)(re.default,{name:"fan",size:48,color:s.Colors.neutral})})},ce=n(313),ie=n(314),ae=f.default.create({text:{color:s.Colors.neutral,fontWeight:"bold"},mainContainer:{flexDirection:"column",flex:1,width:"100%",justifyContent:"space-around"},topContainer:{flexDirection:"row",justifyContent:"center",alignItems:"center"},bottomContainer:{flexDirection:"row",justifyContent:"center",alignItems:"center"},icon:{marginHorizontal:2}}),se=function(e){var t=Object(a.useSelector)((function(e){return e.ac.settings.power}));return Object(x.jsx)(ne,{onPress:function(){return console.log("ModeButton")},dispatchAction:$.changeMode,empty:!t,children:Object(x.jsxs)(j.default,{style:ae.mainContainer,children:[Object(x.jsxs)(j.default,{style:ae.topContainer,children:[Object(x.jsx)(re.default,{name:"snowflake",size:18,color:s.Colors.neutral,style:ae.icon}),Object(x.jsx)(ce.default,{name:"water",size:18,color:s.Colors.neutral,style:ae.icon}),Object(x.jsx)(re.default,{name:"fan",size:18,color:s.Colors.neutral,style:ae.icon})]}),Object(x.jsxs)(j.default,{style:ae.bottomContainer,children:[Object(x.jsx)(re.default,{name:"sun",size:18,color:s.Colors.neutral,style:ae.icon}),Object(x.jsx)(ie.default,{name:"brightness-auto",size:18,color:s.Colors.neutral,style:ae.icon})]})]})})},le=f.default.create({image:{height:48,width:48}}),ue=function(e){var t=Object(a.useSelector)((function(e){return e.ac.settings.power}));return Object(x.jsx)(ne,{onPress:function(){return console.log("PowerButton")},dispatchAction:t?$.turnOff:$.turnOn,children:t?Object(x.jsx)(k.default,{source:n(279),style:le.image}):Object(x.jsx)(k.default,{source:n(280),style:le.image})})};function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var je=f.default.create({arrow:{width:0,height:0,borderStartWidth:16,borderStartColor:"rgba(0, 0, 0, 0)",borderEndWidth:16,borderEndColor:"rgba(0, 0, 0, 0)",borderBottomWidth:16,borderBottomColor:s.Colors.neutral},up:{transform:[{rotate:"0deg"}]},right:{transform:[{rotate:"90deg"}]},down:{transform:[{rotate:"180deg"}]},left:{transform:[{rotate:"270deg"}]}}),be=function(e){var t=e.direction;return Object(x.jsx)(j.default,{style:fe(fe({},je.arrow),je[t])})},pe=f.default.create({imageContainer:{flex:1,justifyContent:"center",alignItems:"center",flexDirection:"row",paddingLeft:12},image:{height:48,width:48,marginLeft:8}}),he=function(e){var t=Object(a.useSelector)((function(e){return e.ac.settings.power}));return Object(x.jsx)(ne,{onPress:function(){return console.log("TempDownButton")},dispatchAction:$.lowerTemperature,empty:!t,children:Object(x.jsxs)(j.default,{style:pe.imageContainer,children:[Object(x.jsx)(be,{direction:"down"}),Object(x.jsx)(k.default,{source:n(281),style:pe.image})]})})},Oe=f.default.create({imageContainer:{flex:1,justifyContent:"center",alignItems:"center",flexDirection:"row",paddingLeft:12},image:{height:48,width:48,marginLeft:8}}),ge=function(e){var t=Object(a.useSelector)((function(e){return e.ac.settings.power}));return Object(x.jsx)(ne,{onPress:function(){return console.log("TempUpButton")},dispatchAction:$.raiseTemperature,empty:!t,children:Object(x.jsxs)(j.default,{style:Oe.imageContainer,children:[Object(x.jsx)(be,{direction:"up"}),Object(x.jsx)(k.default,{source:n(282),style:Oe.image})]})})},me=f.default.create({buttons:{flexDirection:"row",width:"100%",height:"55%",paddingVertical:32},powerButtonContainer:{flexDirection:"row-reverse",width:"100%",height:"55%"},buttonsColumn:{flexDirection:"column",flex:1,alignItems:"center",justifyContent:"space-between"}}),xe=function(e){var t=Object(a.useSelector)((function(e){return e.ac.settings.power}));return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(j.default,{style:me.buttons,children:t?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(j.default,{style:me.buttonsColumn,children:[Object(x.jsx)(ge,{}),Object(x.jsx)(he,{}),Object(x.jsx)(se,{})]}),Object(x.jsxs)(j.default,{style:me.buttonsColumn,children:[Object(x.jsx)(ue,{}),Object(x.jsx)(oe,{}),Object(x.jsx)(ne,{empty:!0})]})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(j.default,{style:me.buttonsColumn}),Object(x.jsx)(j.default,{style:me.buttonsColumn,children:Object(x.jsx)(ue,{})})]})})})},ye=f.default.create({component:{flexDirection:"row",justifyContent:"flex-start"},generalText:{fontWeight:"bold"},temperatureText:{fontSize:128},units:{fontSize:32,fontWeight:"bold"}}),Ce=function(e){var t=Object(a.useSelector)((function(e){return e.ac.settings.temperature[e.ac.settings.mode]})),n=Object(a.useSelector)((function(e){return e.ac.settings.mode})),r=Object(l.useState)({}),o=d()(r,2),c=o[0],i=o[1];return Object(l.useEffect)((function(){i(["fan"===n?{color:s.Colors.disabled}:{color:s.Colors.neutral}])}),[n]),Object(x.jsxs)(j.default,{style:ye.component,children:[Object(x.jsx)(m.default,{style:[ye.generalText,ye.temperatureText,c],children:"fan"===n?"N/A":t}),Object(x.jsx)(m.default,{style:[ye.generalText,ye.units,c],children:"fan"!==n&&"\xb0C"})]})},we=n(170),ve=n(199),Pe=n(315),Se=f.default.create({component:{flexDirection:"row",height:"100%",alignItems:"flex-end"},text:{color:s.Colors.neutral},icon:{margin:5}}),De=function(e){var t=Object(a.useSelector)((function(e){return e.ac.settings.fanSpeed})),n=Object(l.useRef)(new we.default.Value(0)).current,r=n.interpolate({inputRange:[0,1],outputRange:["0deg","360deg"]});return Object(l.useEffect)((function(){if(n.stopAnimation(),n.setValue(0),"auto"!==t){var e=we.default.loop(we.default.timing(n,{toValue:1,duration:2e3,easing:ve.default.linear,useNativeDriver:!0}));return e.start(),function(){return e.stop()}}}),[t]),"auto"===t?Object(x.jsx)(j.default,{style:Se.component,children:Object(x.jsx)(Pe.default,{name:"fan-auto",size:32,color:s.Colors.neutral,style:Se.icon})}):Object(x.jsxs)(j.default,{style:Se.component,children:[Object(x.jsx)(we.default.View,{style:{transform:[{rotate:r}]},children:Object(x.jsx)(re.default,{name:"fan",size:16,color:s.Colors.neutral,style:Se.icon})}),("medium"===t||"high"===t)&&Object(x.jsx)(we.default.View,{style:{transform:[{rotate:r}]},children:Object(x.jsx)(re.default,{name:"fan",size:24,color:s.Colors.neutral,style:Se.icon})}),"high"===t&&Object(x.jsx)(we.default.View,{style:{transform:[{rotate:r}]},children:Object(x.jsx)(re.default,{name:"fan",size:32,color:s.Colors.neutral,style:Se.icon})})]})},ze=f.default.create({component:{flexDirection:"column",justifyContent:"space-between",alignItems:"center"}}),ke=function(e){var t=Object(a.useSelector)((function(e){return e.ac.settings.mode}));return Object(x.jsxs)(j.default,{style:ze.component,children:["cool"===t&&Object(x.jsx)(re.default,{name:"snowflake",size:32,color:s.Colors.neutral}),"dry"===t&&Object(x.jsx)(ce.default,{name:"water",size:32,color:s.Colors.neutral}),"fan"===t&&Object(x.jsx)(re.default,{name:"fan",size:32,color:s.Colors.neutral}),"heat"===t&&Object(x.jsx)(re.default,{name:"sun",size:32,color:s.Colors.neutral}),"auto"===t&&Object(x.jsx)(ie.default,{name:"brightness-auto",size:32,color:s.Colors.neutral})]})},Re=f.default.create({component:{flex:1,width:"100%",padding:32,justifyContent:"center",alignItems:"center",backgroundColor:s.Colors.secondary,borderRadius:8,shadowColor:"black",shadowRadius:8,shadowOpacity:.4,shadowOffset:{height:4,width:0},elevation:1},bottomBar:{width:"100%",height:42,marginTop:32,justifyContent:"space-between",flexDirection:"row"},text:{fontSize:32,color:s.Colors.neutral}}),Ie=function(e){var t=Object(a.useSelector)((function(e){return e.ac.settings}));return Object(x.jsx)(j.default,{style:Re.component,children:t.power?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(Ce,{}),Object(x.jsxs)(j.default,{style:Re.bottomBar,children:[Object(x.jsx)(De,{}),Object(x.jsx)(ke,{})]})]}):Object(x.jsx)(m.default,{style:Re.text,children:"Turn me on, baby!"})})},Te=f.default.create({component:{flex:1,marginHorizontal:"6%",marginVertical:"12%",justifyContent:"center",alignItems:"center"},display:{flexDirection:"row",width:"100%",height:"35%",borderWidth:1,borderColor:"white"}}),Ae=function(e){Object(a.useDispatch)();return Object(x.jsxs)(j.default,{style:Te.component,children:[Object(x.jsx)(Ie,{}),Object(x.jsx)(xe,{})]})},Ee=(f.default.create({component:{}}),function(e){return Object(x.jsx)(Ae,{})}),We=n(48),Le=n(67),Be=Object(i.default)(),Ve=function(){return Object(x.jsxs)(Be.Navigator,{screenOptions:{headerStyle:{backgroundColor:s.Colors.primary},headerShadowVisible:!1,headerTintColor:s.Colors.neutral,contentStyle:{backgroundColor:s.Colors.primary}},children:[Object(x.jsx)(Be.Screen,{name:"AcRemote",component:Ee}),Object(x.jsx)(Be.Screen,{name:"Home",component:K}),Object(x.jsx)(Be.Screen,{name:"Profile",component:Z})]})};t.default=function(){Object(a.useDispatch)(),function(){var e=o()((function*(){var e=yield Object(Le.getAuthDataFromSecureAsync)();e.token&&(Object(We.isAuthenticated)(e)?Object(P.setState)(e):console.log("Calling refresh function because token is expired"))}))}(),Object(a.useSelector)((function(e){return Object(We.isAuthenticated)(e.auth)}));return Object(x.jsx)(c.default,{children:Object(x.jsx)(Ve,{})})}}}]);
//# sourceMappingURL=4.371daa98.chunk.js.map